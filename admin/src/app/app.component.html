<div class="h-screen">
  <mat-toolbar class="flex justify-between">
    <div class="flex gap-2">
       <button *ngIf="!showSidenav" mat-icon-button class="flex items-center" (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span>eMovies</span>
    </div>
    <button *ngIf="(!logs?.id || logs?.stop) && logs" mat-icon-button class="flex items-center" (click)="generateVideo()">
      <mat-icon>upload</mat-icon>
    </button>
    <div *ngIf="(logs?.id && !logs?.stop) || !logs" class="flex items-center gap-2">
      <span class="text-sm">Server busy</span>
      <mat-spinner [diameter]="20"></mat-spinner>
    </div>
  </mat-toolbar>
  <mat-drawer-container class="h-[calc(100%-64px)]">
    <mat-drawer #drawer [mode]="showSidenav ? 'side' : 'push'" [opened]="showSidenav" class="p-[16px] w-[300px]">
      <div class="flex flex-col gap-2 justify-between h-full">
        <div>
          <a *ngFor="let route of routes" [routerLink]="route.link" class="mat-drawer-button"
            routerLinkActive="mat-drawer-button-active" (click)="!showSidenav ? drawer.toggle() : ''">
            <mat-icon>{{ route.icon }}</mat-icon>
            <h1>{{ route.title }}</h1>
          </a>
        </div>
        <app-processing-state *ngIf="logs?.id && !logs?.stop" [logs]="logs"></app-processing-state>
      </div>
    </mat-drawer>
    <mat-drawer-content>
      <router-outlet></router-outlet>
    </mat-drawer-content>
  </mat-drawer-container>
</div>